# æ ‡è¯†ç¬¦
æ ‡è¯†ç¬¦æ˜¯æ•°å­—ã€ä¸‹åˆ’çº¿ã€å°å†™åŠå¤§å†™æ‹‰ä¸å­—æ¯å’Œä»¥ \u åŠ \U è½¬ä¹‰è®°å·æŒ‡å®šçš„ Unicode å­—ç¬¦ çš„ä»»æ„é•¿åº¦åºåˆ—ã€‚åˆæ³•çš„æ ‡è¯†ç¬¦å¿…é¡»ä»¥éæ•°å­—å­—ç¬¦ï¼ˆæ‹‰ä¸å­—æ¯ã€ä¸‹åˆ’çº¿æˆ– Unicode éæ•°å­—å­—ç¬¦ï¼‰å¼€å§‹ã€‚æ ‡è¯†ç¬¦å¤§å°å†™æœ‰åˆ«ï¼ˆå°å†™å’Œå¤§å†™å­—æ¯ä¸åŒï¼‰ã€‚
c99å¼€å§‹ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼å®šä¹‰å˜é‡ï¼š
```c
char *\U0001f431 = "cat"; // å—æ”¯æŒ
char *ğŸ± = "cat"; // å®ç°å®šä¹‰ï¼ˆ Clang å¯ç”¨ï¼Œä½†ç‰ˆæœ¬ 10 å‰çš„ GCC ä¸å¯ï¼‰
```
# ä½œç”¨åŸŸ
Cç¨‹åºä¸­å‡ºç°çš„æ¯ä¸ªæ ‡è¯†ç¬¦éƒ½ä»…åœ¨ä¸€äº›å¯èƒ½ä¸è¿ç»­çš„éƒ¨åˆ†å¯è§ï¼Œè¿™äº›éƒ¨åˆ†è¢«ç§°ä¸º*ä½œç”¨åŸŸ*ã€‚

åœ¨ä½œç”¨åŸŸå†…ï¼Œæ ‡è¯†ç¬¦ä»…åœ¨ä¸åŒå‘½åç©ºé—´ä¸­ï¼Œå¯ä»¥æŒ‡ä»£ä¸åŒçš„å®ä½“ã€‚

Cè¯­è¨€æ‹¥æœ‰å››ç§ä½œç”¨åŸŸï¼š
- å—ä½œç”¨åŸŸ
- æ–‡ä»¶ä½œç”¨åŸŸ
- å‡½æ•°ä½œç”¨åŸŸ
- å‡½æ•°åŸå‹ä½œç”¨åŸŸ

## åµŒå¥—ä½œç”¨åŸŸ
å¦‚æœç›¸åŒæ ‡è¯†ç¬¦æ‰€å‘½åçš„ä¸¤ä¸ªä¸åŒä¸ªå®ä½“åœ¨åŒä¸€æ—¶åˆ»éƒ½åœ¨ä½œç”¨åŸŸä¸­ï¼Œä¸”ä»–ä»¬å±äºç»Ÿä¸€å‘½åç©ºé—´ï¼Œåˆ™ä½œç”¨åŸŸè¢«åµŒå¥—ï¼Œè€Œå†…å±‚ä½œç”¨åŸŸä¸­çš„å£°æ˜éšè—å¤–å±‚ä½œç”¨åŸŸä¸­çš„å£°æ˜ï¼š
```c
/*************************************************************************
	> File Name: 0-1-1.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ22æ—¥ æ˜ŸæœŸä¸‰ 17æ—¶56åˆ†13ç§’
 ************************************************************************/

#include<stdio.h>
int a; //åç§°ä¸º a çš„æ–‡ä»¶ä½œç”¨åŸŸå§‹äºæ­¤

void f(void)
{
	int a = 1; //åç§° a çš„å—ä½œç”¨åŸŸå¼€å§‹äºæ­¤å¤„ï¼šéšè—æ–‡ä»¶ä½œç”¨åŸŸçš„a
	{
		int a = 2;		   //å†…å±‚ a çš„ä½œç”¨åŸŸå¼€å§‹äºæ­¤å¤„ï¼Œéšè—å¤–å±‚ a
		printf("%d\n", a); //
	}
	printf("%d\n", a); //å¤–å±‚ a çš„ä½œç”¨åŸŸå¼€å§‹äºæ­¤å¤„
}

void g(int a); //åç§° a æ‹¥æœ‰å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼›éšè—æ–‡ä»¶ä½œç”¨åŸŸ a

int main()
{
	f();
	return 0;
}

```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```shell
gcc 0-1-1.c -o 0-1-1
```
æ‰§è¡Œç»“æœï¼š
```shell
> ./0-1-1
2
1
```
## å—ä½œç”¨åŸŸ
ä»»ä½•åœ¨å¤åˆè¯­å¥ï¼ŒåŒ…å«å‡½æ•°ä½“æˆ–å‡ºç°äº ifã€switchã€forã€while æˆ– do-while è¯­å¥ä¸­çš„ä»»ä½•è¡¨è¾¾å¼ã€å£°æ˜æˆ–è¯­å¥ï¼Œæˆ–åœ¨å‡½æ•°å®šä¹‰å†…çš„å‚æ•°åˆ—è¡¨ä¸­å£°æ˜çš„æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸï¼Œåœ¨å£°æ˜ç‚¹å¼€å§‹ï¼Œåœ¨å£°æ˜äºå…¶ä¸­çš„å—æˆ–è¯­å¥çš„ç»“å°¾ç»“æŸã€‚
```c
/*************************************************************************
	> File Name: 0-1-2.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ22æ—¥ æ˜ŸæœŸä¸‰ 18æ—¶01åˆ†01ç§’
 ************************************************************************/

#include<stdio.h>
void f(int n){
	++n;
	for(int n = 0;n<10;n++){
		printf("%d", n);
	}
	printf("\n%d\n", n);
}

int main(){
	f(2);
	return 0;
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```
gcc 0-1-2.c -o 0-1-2
```
æ‰§è¡Œç»“æœï¼š
```
> ./0-1-2
0123456789
3
```
å¦‚æœä½œç”¨åŸŸå‡ºç°é”™è¯¯ï¼š
```c
/*************************************************************************
	> File Name: 0-1-3.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ22æ—¥ æ˜ŸæœŸä¸‰ 18æ—¶01åˆ†01ç§’
 ************************************************************************/

#include<stdio.h>
void f(int n){
	++n;
    int n = 2;//é”™è¯¯ï¼šä¸èƒ½åœ¨åŒä¸€ä½œç”¨åŸŸé‡å£°æ˜æ ‡è¯†ç¬¦
}
int a = n;//é”™è¯¯ï¼šn ä¸åœ¨ä½œç”¨åŸŸå†…

int main(){
	f(2);
	return 0;
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```shell
gcc 0-1-3.c -o 0-1-3
```
æŠ¥é”™ï¼š
```
0-1-3.c: In function â€˜fâ€™:
0-1-3.c:11:9: error: â€˜nâ€™ redeclared as different kind of symbol
   11 |     int n = 2;
      |         ^
0-1-3.c:9:12: note: previous definition of â€˜nâ€™ was here
    9 | void f(int n){
      |        ~~~~^
0-1-3.c: At top level:
0-1-3.c:13:9: error: â€˜nâ€™ undeclared here (not in a function)
   13 | int a = n;
      |         ^
```
## æ–‡ä»¶ä½œç”¨åŸŸ
åœ¨ä»»ä½•å—æˆ–å‚æ•°åˆ—è¡¨å¤–å£°æ˜çš„ä»»ä½•æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸï¼Œåœ¨å£°æ˜ç‚¹å¼€å§‹ï¼Œç¿»è¯‘å•å…ƒå°¾ç»“æŸã€‚

æ–‡ä»¶ä½œç”¨åŸŸçš„æ ‡è¯†ç¬¦é»˜è®¤æ‹¥æœ‰å¤–éƒ¨é“¾æ¥å’Œé™æ€å­˜å‚¨æœŸã€‚
```c
/*************************************************************************
	> File Name: 0-1-4.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ22æ—¥ æ˜ŸæœŸä¸‰ 18æ—¶14åˆ†37ç§’
 ************************************************************************/

#include<stdio.h>
int a = 1; //æ–‡ä»¶ä½œç”¨åŸŸ
int main(){
    printf("%d\n",a);
    return 0;
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```
gcc 0-1-4.c -o 0-1-4
```
æ‰§è¡Œç»“æœï¼š
```
> ./0-1-4
1
```
## å‡½æ•°ä½œç”¨åŸŸ
å£°æ˜äºå‡½æ•°å†…éƒ¨çš„æ ‡å·ï¼ˆä¸”åªæœ‰æ ‡å·ï¼‰ï¼Œåœ¨è¯¥å‡½æ•°ä¸­çš„æ‰€æœ‰ä½ç½®ï¼ˆæ‰€æœ‰åµŒå¥—å—ä¸­ï¼Œå…¶è‡ªèº«å£°æ˜å‰åï¼‰éƒ½åœ¨ä½œç”¨åŸŸå†…ã€‚æ³¨æ„ï¼šä»»ä½•è¯­å¥å‰çš„å†’å·å­—ç¬¦å‰çš„æ ‡è¯†ç¬¦ï¼Œè‹¥ä¸ç”¨äºå…¶ä»–ç”¨é€”ï¼Œåˆ™éšå¼å£°æ˜ä¸€ä¸ªæ ‡å·ã€‚
```c
/*************************************************************************
	> File Name: 0-1-5.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ22æ—¥ æ˜ŸæœŸä¸‰ 18æ—¶19åˆ†30ç§’
 ************************************************************************/

#include<stdio.h>
void f()
{
	goto label; // label åœ¨ä½œç”¨åŸŸä¸­ï¼Œå°½ç®¡ä¹‹åæ‰å£°æ˜
	label:;
}
void g()
{
	goto label; // é”™è¯¯ï¼š g() ä¸­ label ä¸åœ¨ä½œç”¨åŸŸä¸­
}
int main(){
	f();
	return 0;
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```
gcc 0-1-5.c -o 0-1-5
```
æŠ¥é”™ï¼š
```
0-1-5.c: In function â€˜gâ€™:
0-1-5.c:16:2: error: label â€˜labelâ€™ used but not defined
   16 |  goto label; // é”™è¯¯ï¼š g() ä¸­ label ä¸åœ¨ä½œç”¨åŸŸä¸­
      |  ^~~~
```
## å‡½æ•°åŸå‹ä½œç”¨åŸŸ
éå‡½æ•°å®šä¹‰çš„å‡½æ•°å£°æ˜çš„å‚æ•°åˆ—è¡¨ä¸­å¼•å…¥çš„åç§°çš„ä½œç”¨åŸŸï¼Œåœ¨å‡½æ•°å£°æ˜å™¨çš„ç»“å°¾ç»“æŸã€‚
```c
int f(int n,
      int a[n]); // n åœ¨ä½œç”¨åŸŸä¸­å¹¶æŒ‡ä»£ç¬¬ä¸€å‚æ•°
```
- æ³¨æ„ï¼šè‹¥å£°æ˜ä¸­æœ‰å¤šä¸ªæˆ–åµŒå¥—å£°æ˜å™¨ï¼Œåˆ™ä½œç”¨åŸŸåœ¨æœ€è¿‘çš„å¤–å›´å‡½æ•°å£°æ˜å™¨çš„ç»“å°¾ç»“æŸã€‚
```c
void f ( // å‡½æ•°å 'f' åœ¨æ–‡ä»¶ä½œç”¨åŸŸ
 long double f,            // æ ‡è¯†ç¬¦ 'f' ç°åœ¨åœ¨ä½œç”¨åŸŸä¸­ï¼Œéšè—æ–‡ä»¶ä½œç”¨åŸŸçš„ 'f'
 char (**a)[10 * sizeof f] // 'f' æŒ‡ä»£ç¬¬ä¸€å‚æ•°ï¼Œå®ƒåœ¨ä½œç”¨åŸŸä¸­
);
 
enum{ n = 3 };
int (*(*g)(int n))[n]; // å‡½æ•°å‚æ•° 'n' çš„ä½œç”¨åŸŸåœ¨å…¶å‡½æ•°å£°æ˜å™¨çš„ç»“å°¾ç»“æŸ
                       // æ•°ç»„å£°æ˜å™¨ä¸­ï¼Œå…¨å±€ n åœ¨ä½œç”¨åŸŸ
// ï¼ˆè¿™å£°æ˜æŒ‡å‘è¿”å› 3 ä¸ª int çš„æ•°ç»„çš„æŒ‡é’ˆçš„å‡½æ•°çš„æŒ‡é’ˆï¼‰
```
## å£°æ˜ç‚¹
ç»“æ„ä½“ã€è”åˆä½“åŠæšä¸¾æ ‡ç­¾çš„ä½œç”¨åŸŸï¼Œåœ¨å£°æ˜è¯¥æ ‡ç­¾çš„ç±»å‹æŒ‡å®šç¬¦ä¸­çš„æ ‡ç­¾å‡ºç°åç«‹å³å¼€å§‹ã€‚
```c
struct Node {
   struct Node* next; // Node åœ¨ä½œç”¨åŸŸä¸­å¹¶æŒ‡ä»£æ­¤ struct
};
```
æšä¸¾å¸¸é‡çš„ä½œç”¨åŸŸï¼Œåœ¨æšä¸¾é¡¹åˆ—è¡¨ä¸­å…¶å®šä¹‰æšä¸¾é¡¹çš„å‡ºç°åç«‹å³å¼€å§‹ã€‚
```c
/*************************************************************************
	> File Name: 0-1-6.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ22æ—¥ æ˜ŸæœŸä¸‰ 18æ—¶31åˆ†19ç§’
 ************************************************************************/

#include<stdio.h>
int main(){
	enum{x = 12};{
		printf("x: %d\n",x);
		enum{
			x = x + 1, // æ–° x åœ¨é€—å·å‰ä¸åœ¨ä½œç”¨åŸŸä¸­ï¼Œåˆå§‹åŒ– x ä¸º 13
			y = x + 1  // æ–°æšä¸¾é¡¹ x ç°åœ¨åœ¨ä½œç”¨åŸŸä¸­ï¼Œåˆå§‹åŒ– y ä¸º 14
		};
		printf("x: %d\n",x);
		printf("y: %d\n",y);
	}
	return 0;
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```shell
gcc 0-1-6.c -o 0-1-6
```
æ‰§è¡Œç»“æœï¼š
```shell
> ./0-1-6
x: 12
x: 13
y: 14
```
ä»»ä½•å…¶ä»–æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸï¼Œæ­£å¥½åœ¨å…¶å£°æ˜å™¨ç»“æŸåå’Œåˆå§‹åŒ–å™¨å‰å¼€å§‹ï¼Œè‹¥å­˜åœ¨åˆå§‹åŒ–å™¨ï¼š
```c
int x = 2; // ç¬¬ä¸€ä¸ª 'x' çš„ä½œç”¨åŸŸå¼€å§‹
{
    int x[x]; // æ–°å£°æ˜çš„ x çš„ä½œç”¨åŸŸåœ¨å£°æ˜å™¨ ï¼ˆ x[x] ï¼‰åå¼€å§‹ã€‚
              // åœ¨å£°æ˜å™¨å†…ï¼Œå¤–å±‚ 'x' ä»åœ¨ä½œç”¨åŸŸä¸­ã€‚
              // è¿™å£°æ˜ 2 ä¸ª int çš„ VLA æ•°ç»„ã€‚
}
 
unsigned char y = 32; // å¤–å±‚ 'y' çš„ä½œç”¨åŸŸå¼€å§‹
{
    unsigned char y = y;
            // å†…å±‚ 'y' çš„ä½œç”¨åŸŸåœ¨åˆå§‹åŒ–å™¨ï¼ˆ = y ï¼‰å‰å¼€å§‹
            // è¿™ä¸ä¼šä»¥å€¼ 32 åˆå§‹åŒ–å†…å±‚ 'y' ï¼Œ
            // è¿™ä»¥å…¶è‡ªèº«çš„ä¸ç¡®å®šå€¼åˆå§‹åŒ–å†…å±‚ 'y'
}
 
unsigned long factorial(unsigned long n)
// å£°æ˜å™¨ç»“æŸï¼Œ 'factorial' ä»æ­¤ç‚¹å¼€å§‹åœ¨ä½œç”¨åŸŸä¸­
{
   return n < 2 ? 1 : n * factorial(n - 1); // é€’å½’è°ƒç”¨
}
```
ä½œä¸ºç‰¹æ®Šæƒ…å†µï¼Œéæ ‡è¯†ç¬¦å£°æ˜çš„ç±»å‹åçš„ä½œç”¨åŸŸï¼Œè¢«è®¤ä¸ºæ­£å¥½å‡å¦‚åœ¨ç±»å‹åå†…æœªçœç•¥æ ‡è¯†ç¬¦ï¼Œåˆ™æ ‡è¯†ç¬¦ä¼šå‡ºç°çš„ä½ç½®ä¹‹åå¼€å§‹ã€‚

# ç”Ÿå­˜æœŸ
C ä¸­æ¯ä¸ªå¯¹è±¡çš„ç”Ÿå­˜æœŸæ˜¯æŒ‡å­˜åœ¨ã€æ‹¥æœ‰å¸¸åœ°å€ã€ä¿æœ‰å…¶æœ€è¿‘ä¸€æ¬¡å­˜å‚¨å€¼ï¼ˆé™¤éå…¶å€¼ä¸ç¡®å®šï¼‰ï¼ˆï¼ŒC99ä»¥åï¼Œå¯¹äº VLA è¿˜æœ‰ä¿æœ‰å…¶å¤§å°ï¼‰çš„ç¨‹åºæ‰§è¡Œéƒ¨åˆ†ã€‚

å¯¹äºå£°æ˜æœ‰è‡ªåŠ¨ã€é™æ€åŠçº¿ç¨‹å­˜å‚¨æœŸçš„å¯¹è±¡ï¼Œç”Ÿå­˜æœŸç­‰äºå…¶å­˜å‚¨æœŸï¼ˆæ³¨æ„é VLA å’Œ VLA è‡ªåŠ¨å­˜å‚¨æœŸçš„åŒºåˆ«ï¼‰ã€‚

å¯¹äºæ‹¥æœ‰åˆ†é…å­˜å‚¨æœŸçš„å¯¹è±¡ï¼Œå…¶ç”Ÿå­˜æœŸå§‹äºåˆ†é…å‡½æ•°çš„è¿”å›ï¼ˆåŒ…å«ä» realloc è¿”å›ï¼‰ï¼Œç»ˆäº realloc æˆ–è§£åˆ†é…å‡½æ•°çš„è°ƒç”¨ã€‚æ³¨æ„å› ä¸ºåˆ†é…çš„å¯¹è±¡æ²¡æœ‰å£°æ˜ç±»å‹ï¼Œé¦–æ¬¡è®¿é—®è¯¥å¯¹è±¡æ‰€ç”¨çš„å·¦å€¼è¡¨è¾¾å¼ç±»å‹ä¼šæˆä¸ºå…¶æœ‰æ•ˆç±»å‹ã€‚

åœ¨ç”Ÿå­˜æœŸå¤–è®¿é—®å¯¹è±¡æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚
- å½“æ‰€æŒ‡å‘çš„å¯¹è±¡è¢«é‡Šæ”¾æˆ–è€…æ”¶å›ï¼Œä½†æ˜¯å¯¹è¯¥æŒ‡é’ˆæ²¡æœ‰ä½œä»»ä½•çš„ä¿®æ”¹ï¼Œä»¥è‡³äºè¯¥æŒ‡é’ˆä»æ—§æŒ‡å‘å·²ç»å›æ”¶çš„å†…å­˜åœ°å€ï¼Œæ­¤æƒ…å†µä¸‹è¯¥æŒ‡é’ˆä¾¿ç§° *æ‚¬å‚æŒ‡é’ˆ* ï¼ˆä¹Ÿå« *è¿·é€”æŒ‡é’ˆ* ï¼‰ã€‚ æŸäº›ç¼–ç¨‹è¯­è¨€å…è®¸æœªåˆå§‹åŒ–çš„æŒ‡é’ˆçš„å­˜åœ¨ï¼Œè€Œè¿™ç±»æŒ‡é’ˆå³ä¸º *é‡æŒ‡é’ˆ* ã€‚
```c
/*************************************************************************
	> File Name: 0-1-7.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ23æ—¥ æ˜ŸæœŸå›› 07æ—¶54åˆ†31ç§’
 ************************************************************************/

#include <stdio.h>
int *foo(void)
{
	int a = 17; // aæ‹¥æœ‰è‡ªåŠ¨å­˜å‚¨æœŸ
	return &a;
} // açš„ç”Ÿå­˜æœŸç»“æŸ
int main(void)
{
	int *p = foo();		   // p æŒ‡å‘ç”Ÿå­˜æœŸç»“æŸåçš„å¯¹è±¡ï¼ˆâ€œæ‚¬å‚æŒ‡é’ˆâ€ï¼‰1
	int n = *p;			   // æœªå®šä¹‰è¡Œä¸º
	printf("n = %d\n", n); // n å€¼ä¸ç¡®å®šã€‚
	return 0;
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```shell 
gcc 0-1-7.c -o 0-1-7
```
è­¦å‘Šï¼š
```shell
0-1-7.c: In function â€˜fooâ€™:
0-1-7.c:12:9: warning: function returns address of local variable [-Wreturn-local-addr]
   12 |  return &a;
      |
```
æ‰§è¡Œç»“æœï¼š
```
> ./0-1-7
æ®µé”™è¯¯
```
## ä¸´æ—¶ç”Ÿå­˜æœŸ
*éå·¦å€¼è¡¨è¾¾å¼* æ‰€æŒ‡ä»£çš„æ‹¥æœ‰æ•°ç»„æˆå‘˜çš„ç»“æ„ä½“å’Œè”åˆä½“å¯¹è±¡ï¼ˆç›´æ¥ä¸ºå…¶æˆå‘˜æˆ–ä¸ºåµŒå¥—çš„ç»“æ„ä½“/è”åˆä½“æˆå‘˜ï¼‰æ‹¥æœ‰ä¸´æ—¶ç”Ÿå­˜æœŸã€‚ä¸´æ—¶ç”Ÿå­˜æœŸå§‹äºæ±‚å€¼æŒ‡ä»£è¯¥å¯¹è±¡çš„è¡¨è¾¾å¼ï¼Œç»ˆäºä¸‹ä¸€ä¸ªåºåˆ—ç‚¹ (C11 å‰)åŒ…å«å®ƒçš„å®Œæ•´è¡¨è¾¾å¼æˆ–å®Œæ•´å£°æ˜å™¨ç»“æŸ (C11 èµ·)ã€‚

ä»»ä½•ä¿®æ”¹ä¸´æ—¶ç”Ÿå­˜æœŸå¯¹è±¡çš„å°è¯•ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚
```c
/*************************************************************************
	> File Name: 0-1-8.c
	> Author: DoItYsf
	> Mail: javathon@hotmail.com
	> Created Time: 2021å¹´12æœˆ23æ—¥ æ˜ŸæœŸå›› 08æ—¶18åˆ†06ç§’
 ************************************************************************/

#include<stdio.h>
struct T
{
	double a[4];
};
struct T f(void)
{
	return (struct T){3.15};
}
double g1(double *x)
{
	return *x;
}
void g2(double *x)
{
	*x = 1.0;
}
int main(void)
{
	double d = g1(f().a); // C99 ï¼š UB è®¿é—®ç”Ÿå­˜æœŸç»“æŸäº g1 å¼€åºåˆ—ç‚¹çš„ a[0]
						  // C11 ï¼š OK ï¼Œ d ä¸º 3.15
	printf("d = %.2f\n", d);
	g2(f().a);			  // C99 ï¼š UB ä¿®æ”¹ç”Ÿå­˜æœŸç»“æŸäºåºåˆ—ç‚¹çš„ a[0]
						  // C11 ï¼š UB è¯•å›¾ä¿®æ”¹ä¸´æ—¶å¯¹è±¡
}
```
ç¼–è¯‘æŒ‡ä»¤ï¼š
```shell
gcc 0-1-8.c -o 0-1-8
```
æ‰§è¡Œç»“æœï¼š
```shell
> ./0-1-8
d = 3.15
```
